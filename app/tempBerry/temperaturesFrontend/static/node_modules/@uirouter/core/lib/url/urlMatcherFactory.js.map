{
  "version": 3,
  "file": "urlMatcherFactory.js",
  "sourceRoot": "",
  "sources": [
    "@uirouter/core/url/urlMatcherFactory.ts"
  ],
  "names": [],
  "mappings": ";;;;;;;;;;AAAA;;;GAGG,CAAC,kBAAkB;AACtB,2CAAmD;AACnD,mDAAiF;AACjF,2CAA0C;AAC1C,yCAAiD;AACjD,mDAAkD;AAOlD,mBAAmB;AACnB;IAaE,sBAAoB,GAAsB;QAAtB,QAAG,GAAH,GAAG,CAAmB;IAAG,CAAC;IAZ9C,iCAAU,GAAV,UAAW,EAAU,EAAE,IAAe,EAAE,KAAuB;QAC7D,OAAO,IAAI,aAAK,CAAC,EAAE,EAAE,IAAI,EAAE,eAAO,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IAC9D,CAAC;IAED,+BAAQ,GAAR,UAAS,EAAU,EAAE,IAAe,EAAE,KAAuB;QAC3D,OAAO,IAAI,aAAK,CAAC,EAAE,EAAE,IAAI,EAAE,eAAO,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IAC5D,CAAC;IAED,iCAAU,GAAV,UAAW,EAAU,EAAE,IAAe,EAAE,KAAuB;QAC7D,OAAO,IAAI,aAAK,CAAC,EAAE,EAAE,IAAI,EAAE,eAAO,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IAC9D,CAAC;IAGH,mBAAC;AAAD,CAAC,AAdD,IAcC;AAdY,oCAAY;AAgBzB;;;;;GAKG;AACH;IASE;QARA,cAAc,CAAC,eAAU,GAAG,IAAI,uBAAU,EAAE,CAAC;QAC7C,cAAc,CAAC,uBAAkB,GAAG,KAAK,CAAC;QAC1C,cAAc,CAAC,kBAAa,GAAG,IAAI,CAAC;QACpC,cAAc,CAAC,yBAAoB,GAAqB,KAAK,CAAC;QAE9D,0EAA0E;QAC1E,iBAAY,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,CAAC;QAGpC,eAAM,CAAC,IAAI,EAAE,EAAE,UAAU,yBAAA,EAAE,KAAK,eAAA,EAAE,CAAC,CAAC;IACtC,CAAC;IAED,kBAAkB;IAClB,2CAAe,GAAf,UAAgB,KAAe;QAC7B,OAAO,CAAC,IAAI,CAAC,kBAAkB,GAAG,sBAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;IACxF,CAAC;IAED,kBAAkB;IAClB,sCAAU,GAAV,UAAW,KAAe;QACxB,OAAO,CAAC,IAAI,CAAC,aAAa,GAAG,sBAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IAC9E,CAAC;IAED,kBAAkB;IAClB,+CAAmB,GAAnB,UAAoB,KAAwB;QAC1C,IAAI,sBAAS,CAAC,KAAK,CAAC,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,CAAC,qBAAQ,CAAC,KAAK,CAAC;YAC3E,MAAM,IAAI,KAAK,CAAC,4BAA0B,KAAK,oDAAiD,CAAC,CAAC;QACpG,OAAO,CAAC,IAAI,CAAC,oBAAoB,GAAG,sBAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;IAC5F,CAAC;IAED;;;;;;OAMG;IACH,mCAAO,GAAP,UAAQ,OAAe,EAAE,MAAgC;QACvD,uEAAuE;QACvE,IAAM,MAAM,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,KAAK,IAAK,MAAc,CAAC,MAAM,CAAC;QACjE,MAAM,GAAG,MAAM,CAAC,CAAC,YAAG,KAAK,EAAE,EAAE,MAAM,QAAA,EAAE,IAAK,MAAM,EAAG,CAAC,CAAC,MAAM,CAAC;QAC5D,IAAM,YAAY,GAAG,EAAE,MAAM,EAAE,IAAI,CAAC,aAAa,EAAE,eAAe,EAAE,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC9F,OAAO,IAAI,uBAAU,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,EAAE,eAAM,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC,CAAC;IACnG,CAAC;IAED;;;;;;OAMG;IACH,qCAAS,GAAT,UAAU,MAAW;QACnB,gBAAgB;QAChB,IAAI,CAAC,qBAAQ,CAAC,MAAM,CAAC;YAAE,OAAO,KAAK,CAAC;QACpC,IAAI,MAAM,GAAG,IAAI,CAAC;QAElB,gBAAO,CAAC,uBAAU,CAAC,SAAS,EAAE,UAAC,GAAG,EAAE,IAAI;YACtC,IAAI,uBAAU,CAAC,GAAG,CAAC;gBAAE,MAAM,GAAG,MAAM,IAAI,CAAC,sBAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,uBAAU,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAChG,CAAC,CAAC,CAAC;QACH,OAAO,MAAM,CAAC;IAChB,CAAC;IAED;;;;;;;;;;;;;;;;;;OAkBG;IACH,gCAAI,GAAJ,UAAK,IAAY,EAAE,UAAgC,EAAE,YAAwC;QAC3F,IAAM,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,YAAY,CAAC,CAAC;QAClE,OAAO,CAAC,sBAAS,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;IAC9C,CAAC;IAED,cAAc;IACd,gCAAI,GAAJ;QACE,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,KAAK,CAAC;QAChC,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,CAAC;QAClC,OAAO,IAAI,CAAC;IACd,CAAC;IAED,mBAAmB;IACnB,mCAAO,GAAP;QACE,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;IAC5B,CAAC;IACH,wBAAC;AAAD,CAAC,AAlGD,IAkGC;AAlGY,8CAAiB",
  "sourcesContent": [
    "/**\n * @internalapi\n * @module url\n */ /** for typedoc */\nimport { forEach, extend } from '../common/common';\nimport { isObject, isDefined, isFunction, isString } from '../common/predicates';\nimport { UrlMatcher } from './urlMatcher';\nimport { Param, DefType } from '../params/param';\nimport { ParamTypes } from '../params/paramTypes';\nimport { ParamTypeDefinition } from '../params/interface';\nimport { Disposable } from '../interface';\nimport { ParamType } from '../params/paramType';\nimport { UrlMatcherCompileConfig, UrlMatcherConfig } from './interface';\nimport { StateDeclaration } from '../state';\n\n/** @internalapi */\nexport class ParamFactory {\n  fromConfig(id: string, type: ParamType, state: StateDeclaration) {\n    return new Param(id, type, DefType.CONFIG, this.umf, state);\n  }\n\n  fromPath(id: string, type: ParamType, state: StateDeclaration) {\n    return new Param(id, type, DefType.PATH, this.umf, state);\n  }\n\n  fromSearch(id: string, type: ParamType, state: StateDeclaration) {\n    return new Param(id, type, DefType.SEARCH, this.umf, state);\n  }\n\n  constructor(private umf: UrlMatcherFactory) {}\n}\n\n/**\n * Factory for [[UrlMatcher]] instances.\n *\n * The factory is available to ng1 services as\n * `$urlMatcherFactory` or ng1 providers as `$urlMatcherFactoryProvider`.\n */\nexport class UrlMatcherFactory implements Disposable, UrlMatcherConfig {\n  /** @hidden */ paramTypes = new ParamTypes();\n  /** @hidden */ _isCaseInsensitive = false;\n  /** @hidden */ _isStrictMode = true;\n  /** @hidden */ _defaultSquashPolicy: boolean | string = false;\n\n  /** @internalapi Creates a new [[Param]] for a given location (DefType) */\n  paramFactory = new ParamFactory(this);\n\n  constructor() {\n    extend(this, { UrlMatcher, Param });\n  }\n\n  /** @inheritdoc */\n  caseInsensitive(value?: boolean): boolean {\n    return (this._isCaseInsensitive = isDefined(value) ? value : this._isCaseInsensitive);\n  }\n\n  /** @inheritdoc */\n  strictMode(value?: boolean): boolean {\n    return (this._isStrictMode = isDefined(value) ? value : this._isStrictMode);\n  }\n\n  /** @inheritdoc */\n  defaultSquashPolicy(value?: boolean | string) {\n    if (isDefined(value) && value !== true && value !== false && !isString(value))\n      throw new Error(`Invalid squash policy: ${value}. Valid policies: false, true, arbitrary-string`);\n    return (this._defaultSquashPolicy = isDefined(value) ? value : this._defaultSquashPolicy);\n  }\n\n  /**\n   * Creates a [[UrlMatcher]] for the specified pattern.\n   *\n   * @param pattern  The URL pattern.\n   * @param config  The config object hash.\n   * @returns The UrlMatcher.\n   */\n  compile(pattern: string, config?: UrlMatcherCompileConfig) {\n    // backward-compatible support for config.params -> config.state.params\n    const params = config && !config.state && (config as any).params;\n    config = params ? { state: { params }, ...config } : config;\n    const globalConfig = { strict: this._isStrictMode, caseInsensitive: this._isCaseInsensitive };\n    return new UrlMatcher(pattern, this.paramTypes, this.paramFactory, extend(globalConfig, config));\n  }\n\n  /**\n   * Returns true if the specified object is a [[UrlMatcher]], or false otherwise.\n   *\n   * @param object  The object to perform the type check against.\n   * @returns `true` if the object matches the `UrlMatcher` interface, by\n   *          implementing all the same methods.\n   */\n  isMatcher(object: any): boolean {\n    // TODO: typeof?\n    if (!isObject(object)) return false;\n    let result = true;\n\n    forEach(UrlMatcher.prototype, (val, name) => {\n      if (isFunction(val)) result = result && (isDefined(object[name]) && isFunction(object[name]));\n    });\n    return result;\n  }\n\n  /**\n   * Creates and registers a custom [[ParamType]] object\n   *\n   * A [[ParamType]] can be used to generate URLs with typed parameters.\n   *\n   * @param name  The type name.\n   * @param definition The type definition. See [[ParamTypeDefinition]] for information on the values accepted.\n   * @param definitionFn A function that is injected before the app runtime starts.\n   *        The result of this function should be a [[ParamTypeDefinition]].\n   *        The result is merged into the existing `definition`.\n   *        See [[ParamType]] for information on the values accepted.\n   *\n   * @returns - if a type was registered: the [[UrlMatcherFactory]]\n   *   - if only the `name` parameter was specified: the currently registered [[ParamType]] object, or undefined\n   *\n   * Note: Register custom types *before using them* in a state definition.\n   *\n   * See [[ParamTypeDefinition]] for examples\n   */\n  type(name: string, definition?: ParamTypeDefinition, definitionFn?: () => ParamTypeDefinition) {\n    const type = this.paramTypes.type(name, definition, definitionFn);\n    return !isDefined(definition) ? type : this;\n  }\n\n  /** @hidden */\n  $get() {\n    this.paramTypes.enqueue = false;\n    this.paramTypes._flushTypeQueue();\n    return this;\n  }\n\n  /** @internalapi */\n  dispose() {\n    this.paramTypes.dispose();\n  }\n}\n"
  ]
}